## AWS Builders 온라인 시리즈 강연

> 2022.01.20 - aws builders 온라인 시리즈 무료 강연이 오전/오후로 두번 반복되어 진행되었다.
>
> 아마존이라는 기업의 가치와 방향성, 그리고 작은 기업이 크게 성장하게 된 비결?도 함께 알게 되었다.
>
> AWS의 EC2에 대해서는 주변에서 가끔 들어봤지만 개념이 확실치 않았고 뒤로 갈수록 처음 접하는 개념과 용어들, 한국어 강의임에도 많은 영어 사용으로 인해 이해도가 현저히 낮아졌고 맛보기 정도로만 강의를 들었던 것 같다. 
>
> 후에 이 문서를 다시 읽게 되면 다 이해할 수 있는 그런 날이 올 때까지 열심히 해야겠다.



#### 아마존 혁신의 문화 : Amazon Culture of Innovation

- 아마존의 미션 : 지구 상에서 가장 고객 중심적인 회사가 되겠다.

- 책으로 시작 
  - 만져보지 않고 고를 수 있음
  - 배송이 용이
  - 잘 썩지 않음
  - 단일 품목 중 다양한 선택지가 있음
  - 다양한 진열 방식

- 다양한 경험 -> 고객 만족도 up,경험치 up 

- 사업 모델 : 합리적인 가격에 넓은 선택지 

- 사업 모델의 구축을 위해 지키는 3가지
  - 가격 - 저렴한 가격
  - 선택지 - 다양한 선택지
  - 편의성 - 복잡한 프로세스를 간소화해서 고객의 경험치를 높임

##### 문화 

- 아마존의 모든 임직원은 리더이다. 
- LP : 혁신 DNA로 내부적으로 LP라고 줄여 부르는 Leadership principle는 전제조건이 있는데 아마존 전 직원이 리더라는 가정이 필요
- 급격하게 늘어나는 임직원이 고객중심적으로 생각하고 혁신을 지향하며 반드시 지켜야만 할 행동 강령같은 것을 줘서 스스로 판단하고 행동할 수 있게 한 것이 LP 

- LP를 통해 인재 채용, 고과 평가, 의사 결정이 이루어짐
- Invent and Simplify
  - 리더들은 조직내에서 지속적으로 혁신 기회를 찾아내고 이것들을 단순화하고 정립해서 다른 조직으로 전파하라
  - 내 아이디어에만 천착하지 말고 외부에서도 새로운 아이디어를 얻어서 내재화하라
  - 혁신을 할 때는 속된 말로 미친 사람 취급을 당할 각오를 하고 오랜 시간 참아내야 함

##### 일하는 방식 

- 새로운 아이디어나 정보를 input으로 넣었을 떄 고객 중심적이고 혁신적인 상품과 서비스가 탄생할 수 있게끔 dirve하는 메커니즘이 바로 working backward라는 메커니즘
- 첫번째 LP인 Customer obsession의 Start with Customer & Work Backwords라고 적혀있는 첫 문장이 시작 됨
  - 초기 아이디어를 만드는 단계부터 이것이 고객을 위해 좋은 아이디어인지, 고객을 위해 올바른 의사결정을 하고 있는지 검증하는데 활용됨
  - 고객 pain point를 관찰하고 이것이 해결된 미래의 모습을 가상의 보도자료, 즉 Press Release를 쓴 다음에 FAQ를 쓰고 Visual을 개발해서 prototyping을 만든 후에 제품 개발을 함 => 순서가 거꾸로 되어 있기 떄문에 working backward라고 부름
  - press release 질문 - 명확하게 답변이 안되면 프로젝트 펀딩 자체가 안됨
    - 당신의 고객은 누구입니까? - 가상으로 고객을 정해서 진행, 한사람의 고객을 정하면 더 심층적으로 고민할 수 있음
    - what is customer problem or opportunity
    - is the most important customer benefit clear?
    - how do you know what customers need or wnat
    - what does the customer experience look like
  - press release - 대상 고객과 무엇을 이룰지가 명확해짐
    - 1페이지 정도의 새로운 제품에 대한 소개자료인데 고객 관점의 언어로 씀
  - FAQ - 더 완전해짐
    - 고객이 할만한 질문을 예상한 고객용
    - 내부용은 내부의 목표, 비즈니스 결과, 보안문제 등을 질문함 
  - visuals - 고객관점에서의 경험이 어떠할지가 분명해짐
    - 말로 표현할 수 없는 고객의 경험이 어떻게 나아지는지를 표현
    - PR과 FAQ에서 포착된 아이디어를 시각적으로 표현함

##### 조직 

- 하나의 문제를 책임지고 해결할 수 있는 단일 팀을 만들어야 고객 중심적인 상품 혁신이 빠르고 제대로 이루어진다는 철학
- 이러한 single-threaded ownership을 가져가는 팀을 2-Pizza팀이라고 부름 - 팀이 식사를 할 때 피자 두판 가지고 한 끼 식사를 할 수 있을 정도로 팀 단위가 작아져야 한다는 뜻
- 작지만 완결된 팀 구성 
  - 다른 조직에 대한 의존도 줄임
  - 불필요한 communication cost 줄임
  - 자율적이고 민첩한 조직 운영
  - 정해진 문제 해결에 집중
  - 혁신 속도 가속화
  - 강력한 ownership

##### 구조

- architecture : 시스템이나 서비스 같은 SW를 말하고 API를 통해 호출
- loosely coupled systemd을 지향
  - the looser they are coupled, the bigger they scale, the less dependencies, the fater you innovate



#### 알아두면 쓸모 있는 EC2 이야기

##### Amazon EC2 기본 개념

- Amazon EC2 

  - 클라우드의 가상 서버 인스턴스
  - 폭 넓은 선택의 기회를 제공

- AWS Licencs Manager

  - 소프트웨어 공급 업체의 라이선스를 보다 쉽게 관리
  - 라이센스 규칙 정의, 사용량 겁색, 접근 관리
  - AWS 및 온-프레미스에 대한 단일 라이선스 관리
  - 비 준수 소프트웨어 발견 및 오용 방지
  - AWS systems manager 및 aws organizations와 완벽한 통합
  - 모든 고객을 위한 무료 서비스

- AWS Graviton processer

  - Amazon EC2에서 실행하는 클라우드 워크로드에 최고의 가성비를 제공하기 위해 64비트 Arm Neoverse 코어를 사용해 Amazon web service에서 맞춤형으로 구축한 제품

- Amazon EC2 수명 주기

  - 실행중(Running)
    - 인스턴스 동작 중 상태
    - 과금 발생
    - 정지/ 종료/ 리붓 명령으로 상태 전이 가능
  - 정지된(Stopped)
    - 중지된 상태
    - EBS 볼륨을 루트로 사용하는 인스턴스만 가능
    - 과금 안됨
    - 시작 종료 명령으로 상태 전이 가능
    - 탄력적 IP 주소 유지
  - 종료됨(Terminated)
    - 인스턴스가 완전히 제거된 상태 
    - 시작이나 정지 불가능
    - 과금 안 됨

  ![image-20220120145636984](C:\Users\a9681\AppData\Roaming\Typora\typora-user-images\image-20220120145636984.png)

#####  워크로드에 적합한 EC2 인스턴스 선택하기

- 한번에 최적의 타입을 선택하는 게 아니라 지속적으로 모니터링하고 최적화하는 과정임
- 인스턴스 표기법
  - ![image-20220120150058063](C:\Users\a9681\AppData\Roaming\Typora\typora-user-images\image-20220120150058063.png)
- 인스턴스 패밀리
  - 범용 인스턴스 : M6g, T4g, A1
  - 메모리 집약적 인스턴스 : R6g, X2, 대용량 메모리
  - 컴퓨팅과 가속화 인스턴스 : C6g, P4, G5
  - 스토리지 집약적 인스턴스 : I3, D3
- 인스턴스 세대 : 최신의 인스턴스일수록 숫자가 높음
- 추가 기능 
  - 프로세서 : g, a, i
  - 스토리지 및 네트워크 : d, n
  - 성능 : e
- 인스턴스 사이즈 : vCPU수
  - xlarge는 4개, 2xlarge는 8개 제공

##### EC2 인스턴스 최적화

- 최적화시 고려할 측면
  - 비용효율적으로 EC2자원을 사용하고 있는가
  - 사용하고 있는 EC2 자원이 워크로드 요구사항에 적합한가
- 최적화 도구 - AWS Compute Optimizer
  - 진행 절차 
    1. 권장 사항 자동 생성
    2. 권장 사항 검토
    3. 예상 시나리오 확인
- 2021년 새로운 Compute Optimizer
  - Graviton 프로세스 기반으로 변경 시 비용 및 성능 영향도를 제공
  - 전체 운영 중인 EC2와 EBS에 대한 비용 구조를 한 번에 쉽게 파악할 수 있는 기능
  - Enhanced Infrastructure Metrics로 최대 3개월간의 지표로 추론하는 기능

##### 스팟 인스턴스를 통한 유연한 확장

- Auto Scaling Group
  - 수요에 맞게 확장
  - spot instance는 사용하지 않는 EC2용량을 경매와 비슷한 방식을 통해 온디맨드 인스턴스와 동일하게 사용하는 구매 방법
- 스팟 배치 점수 
  - 스팟 사용에 대한 성공 가능성 확인

##### EC2 데이터 보호 관리

- EC2의 경우 스토리지 볼륨을 주로 Elastic Block Store인 EBS를 사용
  - 네트워크 기반으로 API를 통해 생성 및 연결이 되며, 온라인 중에 볼륨 용량 확장도 가능
  - EC2가 삭제 되어도 EBS의 데이터는 유지
  - 암호화 제공
  - 하드웨어 장애에도 자체 대응할 수 있는 기능 내재
  - 스냅샷을 통한 증분 방식 백업 기능 제공
- 스냅샷 관리
  - Amazon Data Lifecycle manager로 스냅샷에 대한 생성, 보존, 삭제와 같은 관리를 자동화



#### 대규모 서비스를 위한 AWS의 대표적인 NoSQL Database 서비스 알아보기

##### 모던 애플리케이션과 데이터베이스

- 관계형과 NoSQL 데이터 베이스
  - 관계형 데이터 베이스에서 스키마에서 자유로운 JSON 데이터 타입임을 볼 수 있고 NoSQL의 장점인 확장성을 흡수
  - NoSQL데이터 베이스는 관계형 데이터베이스가 갖는 주요 특징인 트래잭션과 보조 인덱스를 흡수하여 자신들의 단점을 제거
- 오픈소스 데이터베이스
  - 상용 데이터베이스의 벤더 락인에서 탈출하고 비용 절감
- 모던 애플리케이션
  - 사용한 만큼만 비용 지불
- 마이크로 서비스 아키텍처
  - 변경에 대한 영향 범위와 위험이 작아 프로덕션 서비스를 쉽고 빠르게 변경할 수 있어 빠른 비즈니스 속도를 가능하게 함
  - 각 마이크로 서비스 별로 다른 데이터베이스를 사용
  - 테스트나 소규모의 사용 만이 아니라 장애 상황을 처리하고 유지/보수도 할 수 있는 엔지니어가 필요
- DevOps
  - 각 마이크로 서비스 별로 2-pizza 팀을 구성하고 각 팀은 스스로 서비스 개발에 대한 것을 결정하며, 독립적으로 빠르게 비즈니스의 속도를 낼 수 잇는 구조
  - 가능한 많은 완전 관리형 서비스를 사용해 인프라 운영 부담을 줄이고, 고객은 고객의 핵심 비즈니스에 집중하는 것이 가능해짐
- 목적에 맞는 데이터베이스를 사용해야 함
  - 확장성, 성능, 가용성을 얻을 수 있음

##### SQL and NoSQL?

- 최근 트렌드는 둘 중 하나만 고르는게 아닌 내 서비스의 워크로드에 맞는 데이터베이스를 골라 사용
-  why NoSQL?
  - 대용량 데이터 처리
  - 시계열 처리
  - 그래프 처리
  - 개발자들의 가변적 스키마 요구
  - Document 처리

##### AWS의 대표적인 NoSQL 데이터베이스 서비스

- Amazon DynamoDB
  - 어떤 규모에서도 빠르게 유연하게 동작하는 AWS의 대표적인 key-value NoSQL 데이터베이스 서비스
  - 규모와 관계없이 일관되게 수 밀리초 미만의 응답시간
  - 무제한의 처리량과 스토리지로 애플리케이션 구축

